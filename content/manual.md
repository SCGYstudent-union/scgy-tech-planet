Title: 少年班学院技术部工作手册
Date: 2019-04-11
Category: Lectures
Tag: Lectures

## 关于这本手册
### 为什么要有这本手册？
作为2017级萌新的我加入少院技术部的时候，我发现技术部管理资产种类繁多，但缺乏足够清晰的文档，不利于服务的稳定运行和接续。因此，我们建立这本手册，以期方便各位技术部的未来力量，同时也希望能将技术经验积累起来向下传承。
### 历届文档资源整理和参考
1. 技术部成立于2011年。技术部成立伊始，李博杰学长（boj）等一批同学建立了技术部维基，但是由于一直缺乏维护，资料仅11～13年较为完整。网站于2018年3月左右，因为MediaWiki系统的未知原因，只有点击“查看历史”才可以访问。
2. 在13～14年，技术部的部分文档和交流保存在了[少年班学院学生会技术部邮件列表](http://)上面。
3. 在15年左右，徐弈学长维护了本手册的前身；主控室的服务器部分基于徐弈学长的文档进行修改。原文档在[USTCLug Git](https://git.lug.ustc.edu.cn/turin_turambar/scgy-tech-handbook) 可以见到。
### 贡献者
|姓名|联系方式|
|:--|:---|
|安泽宇|-@qq.com|
|徐弈|-@mail.ustc.edu.cn|
|许如清|-@mail.ustc.edu.cn|
|刘紫檀|-@mail.ustc.edu.cn|

### 原技术部QQ群
群号码：-

包含几乎14～17级成员；同时，还有一个更老的技术部群，可以询问崔天一，安泽宇和曹焕奇等人。

### 如何向本手册进行贡献
本书的版本维护采用[Git](https://en.wikipedia.org/Git)。Git是一种版本控制系统，可以方便的查看本书编写的历史和修改者，支持分支和撤回，以及可以方便的用于多人协作。Git通常配合一些基于Git的辅助&流程控制网站使用，比如[Github](https://github.com)。更详细的请移步到[顾辰飞和林浩南共同编写的Github教程](https://haimeiyou.com)。

本说明采用Markdown写作。Markdown是一种轻量级的、专注写作的格式，可以便捷的转换成为HTML。在此推荐[Remarkable](https://github.com/jamiemcg/Remarkable)这款Markdown编辑器。

## 技术部在干什么？
### 概述
技术部成员们进行的工作范围非常广。从网站的前端和后端开发，到少院学生会网站的运维，以及少院一层机房的配置和维护，再到少院动手实验室的管理和~~搞事~~，以及五月风科技活动周时制作的吸引眼球的科技作品，都是少院技术部的工作内容。
### 少院机房
少年班学院微机实验室有很长的历史——长到本文作者也不知道有多长。但是，从主控室里128Bytes的软盘，到5英寸软盘，再到3.5英寸软盘一应俱全的情形来看，历史可以说是有些“悠久”的。
#### 资产
|名称|数量|说明|
|:-|:-:|:-|
|Lenovo 台式机|19|i7 6700K 4GB 500GB|
|Lenovo 台式机|17|i3 |
|Dell 台式机|4|Core 2 Duo & Pentium Dual Core|
|H3C S1224R|1|放在靠南两排的，挂在墙上的24口无网管千兆交换机|
|H3C S1224|2|较S1224R短但功能相同，购置于2018年4月，一台闲置，另一台放在中间两排|
|神州数码 DCS-1024+|1|闲置的百兆交换机，据吴淳晖学长（16）描述是之前少院修网时代镭老师留下来的|
|联想 DES-1024R|1|原来靠南两排的百兆交换机，2001年左右购置。注意使用时确定好线序，因为太老而不支持自动线序翻转|
|TP-LINK TL-SG3226|1|L2 千兆24口管理交换机；带Console和两个千兆SFP端口；闲置在主控室柜子|

#### PXE 启动
少院机房曾经采用过PXE网络启动的启动方式。所谓网络启动，就是开机由网卡上的ROM执行从发现TFTP服务器，并且获取启动镜像，从而实现没有硬盘也可以启动的一种启动方式。通过设立PXE服务器，并进行Windows驱动的配置，可以实现开机启动由服务器提供的操作系统镜像（此处的镜像，指的是SAN Device，如iSCSI），并将对文件系统的更改保存在客户端内存中，重启就消失。（资料needed）
根据我的了解，最近的一次网络启动服务器的部署发生在2015年，是徐弈学长进行的（cite：霍姚远）。
机房经常因为同学们的误操作和无意识操作，安装许多奇奇怪怪的软件，如“360全家桶”、“XX高速浏览器”等，拖慢系统运行。而PXE“关机更改就消失”和“服务器镜像一改，全部内容都会跟着变”的优点在此处得到了良好体现。
但是，PXE也有它的劣势。网络启动对机房的网络设施是一个挑战，在多人同时使用情况下，服务器等可能成为瓶颈，托慢系统运行；PXE服务器单点故障，会导致所有电脑无法启动；机房电脑内存有限，长时间开机，对文件系统的改动回写到内存，势必导致内存不足，系统被迫重启的情况发生。
##### 如何维护PXE启动
TODO
#### 布线
2018年7月，技术部进行了机房网络重新布线工作。重新布线后的状况如下：

+ 网络方面，机房共有两台正在工作的24口交换机；中间两排的交换机不仅连接A、B、C三排电脑，还负责连接来自主控室的Uplink和靠后两排的交换机；靠后两排的交换机连接D、E、F三排。网线和电源线，都走电脑桌的暗槽。
+ 机房东侧共有六个插座，每个插座负责一排的电脑；所有插排均从电脑桌的暗槽中排线，一排需要三个插板，按照2-2-3或2-2-2的电脑分配。
+ 电脑桌的暗槽为了防止桌子被同学们长期使用而错位，损坏里面的电源线和网线，特地采用直径40mm的PVC管（五金店有售），按8～10cm一段，用胶带固定在接合处，抵抗外界的剪切力作用。
+ 机房进门右手边是控制机房配电的空气开关。上方最左端是总开关，右面两个是空调开关；下面箱子最左端四个是控制机房插座的四个空开，而右面的则是控制机房照明灯的开关。

### 主控室
#### 概述
主控室分为两个区域，一个区域为机房值班同学设计，旁边的柜子里也存放着大量的网线和硬盘、电源等物资；玻璃门隔着的是存放少院服务器的地方，有学生会、心理测量平台和李震宇的计算服务器，以及格物致知社、爱乐协会、和LUG的服务。
#### 资产
**值班室部分**

|名称|数量|说明|
|:-|:-:|:-|
|旧硬盘|若干|放在值班位置右边的柜子里，不知好坏；有SAS SATA和IDE接口|
|WD 硬盘 NAS & Blue|2|放在值班位置右边的柜子里，不知好坏；SATA|
|主机电源|2|放在值班位置右边的柜子里，不知好坏|
|光驱|3|放在值班位置右边的柜子里，不知好坏|
|内存|若干|放在值班位置右边的柜子里，不知好坏；有DDR DDR2 DDR3|
|光驱和硬盘螺丝|若干|放在装内存的盒子里|
|键盘|2|放在柜子里|
|网线，盒装|3|都是SHIP的；两盒CAT5e，一盒CAT6；放在值班位置右手的衣柜里|
|网线，散装|若干|很多较短的网线，放在柜子第二个抽屉里；另有两箱旧网线|
|主机和显示器电源线|很多|放在抽屉里|
|软盘等考古物品|若干|放在柜子里；可以放在网站上展览+认领（还有老照片..）|
|SHARP 磁带式 DV|1|装在塑料袋里，放在柜子里；2003年购置；18/7/27日检查，应该不太好使了；另附PCI IEEE-1394扩展卡于袋中|
|机房操作系统和软件说明书|若干|放在值班位置右边的柜子里，还有HP DL385（？）服务器的说明，和联想公共机房还原和增量部署系统的说明|
|格力空调购买，保修说明和原装遥控器|1|放在值班位置右边的柜子中黑色塑料道里|

**服务器室硬件部分**
TODO

### 动手实验室
TODO

### 网络服务
TODO，参见徐弈的servers.md

### 活动与项目
#### “五月风”科技活动周
TODO

#### 信息安全大赛
TODO

## 技术部干系人整理
### 老师
TODO

### 其它学校内组织
|组织|联系方式|说明|
|:-|:-|:-|:-|
|USTC Linux User Group|LUG群里戳运维的同学|李博杰、崔天一等学长都既在少院技术部，又在LUG负责一些工作；有几台服务器是LUG放在主控室里面的|
|爱乐协会|问爱乐协会的同学，或者问徐弈|Xen虚拟机部署的爱乐协会FTP（？）|
|格物致知社|格物致知群：| gewuftp |
|?|?|心理咨询平台|

### 学长

## 技术部活动和制作资料整理
TODO， 技术部维基
TODO，动手教程
TODO，Github教学网址

